(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[479],{5647:function(e,t,n){Promise.resolve().then(n.bind(n,292))},292:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return d}});var a=n(5853),i=n(4254),r=n(8144),s=n(5172);function l(e){let{helper:t}=e,n=t.profile;return(0,a.jsx)("div",{className:"rounded-lg border p-3",children:(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsx)("img",{src:n.photoUrl,alt:"Helper photo",className:"h-16 w-16 rounded object-cover",loading:"lazy"}),(0,a.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,a.jsx)("div",{className:"truncate font-semibold",children:n.countryOfOrigin}),(0,a.jsx)("div",{className:t.online?"text-xs text-green-600":"text-xs text-slate-500",children:t.online?"Online":"Offline"})]}),(0,a.jsxs)("div",{className:"mt-1 text-sm text-slate-700",children:["Age: ",n.ageRange," \xb7 Exp: ",n.experienceYears]}),(0,a.jsxs)("div",{className:"mt-1 text-xs text-slate-600",children:["Skills: ",n.experienceDetails.slice(0,3).join(", "),n.experienceDetails.length>3?"â€¦":""]}),(0,a.jsx)("div",{className:"mt-2",children:(0,a.jsx)("a",{className:"inline-flex rounded bg-green-600 px-3 py-2 text-sm text-white",href:t.whatsapp?"https://wa.me/".concat(t.whatsapp.replace("+","")):"#",target:"_blank",rel:"noreferrer",children:"WhatsApp"})})]})]})})}function o(e){return e.length?e.join(","):void 0}function d(){let[e,t]=(0,i.useState)(""),[n,d]=(0,i.useState)(""),[c,u]=(0,i.useState)(""),[m,p]=(0,i.useState)(""),[h,x]=(0,i.useState)([]),[g,f]=(0,i.useState)([]),[y,v]=(0,i.useState)(!1),[j,b]=(0,i.useState)([]),[N,w]=(0,i.useState)(null),k=(0,i.useMemo)(()=>{let e=new URLSearchParams;n&&e.set("countryOfOrigin",n),c&&e.set("ageRange",c),m&&e.set("experienceYears",m);let t=o(h),a=o(g);return t&&e.set("experienceDetails",t),a&&e.set("personalityTraits",a),y&&e.set("onlineOnly","true"),e.toString()},[c,n,h,m,y,g]);async function S(){w(null);try{let t=await (0,r.S)("/helpers/search?".concat(k),{token:e});b(t.helpers)}catch(e){var t;w(null!==(t=null==e?void 0:e.message)&&void 0!==t?t:"Search failed")}}function C(e,t,n){n(e.includes(t)?e.filter(e=>e!==t):[...e,t])}return(0,i.useEffect)(()=>{},[]),(0,a.jsxs)("main",{className:"space-y-4",children:[(0,a.jsx)("h1",{className:"text-xl font-bold",children:"Search Helpers"}),(0,a.jsxs)("div",{className:"rounded border p-3",children:[(0,a.jsx)("div",{className:"text-sm font-semibold",children:"Auth token"}),(0,a.jsx)("input",{className:"mt-2 w-full rounded border px-3 py-2",value:e,onChange:e=>t(e.target.value),placeholder:"Paste JWT from /auth/login (employer)"})]}),(0,a.jsxs)("div",{className:"space-y-3 rounded border p-3",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm font-semibold",children:"Country"}),(0,a.jsxs)("select",{className:"mt-1 w-full rounded border px-3 py-2",value:n,onChange:e=>d(e.target.value),children:[(0,a.jsx)("option",{value:"",children:"Any"}),s.BJ.map(e=>(0,a.jsx)("option",{value:e,children:e},e))]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm font-semibold",children:"Age"}),(0,a.jsxs)("select",{className:"mt-1 w-full rounded border px-3 py-2",value:c,onChange:e=>u(e.target.value),children:[(0,a.jsx)("option",{value:"",children:"Any"}),s.qO.map(e=>(0,a.jsx)("option",{value:e,children:e},e))]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm font-semibold",children:"Experience"}),(0,a.jsxs)("select",{className:"mt-1 w-full rounded border px-3 py-2",value:m,onChange:e=>p(e.target.value),children:[(0,a.jsx)("option",{value:"",children:"Any"}),s.wY.map(e=>(0,a.jsx)("option",{value:e,children:e},e))]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm font-semibold",children:"Skills"}),(0,a.jsx)("div",{className:"mt-2 grid grid-cols-2 gap-2",children:s.Er.map(e=>(0,a.jsx)("button",{type:"button",className:h.includes(e)?"rounded border bg-slate-900 px-3 py-2 text-sm text-white":"rounded border px-3 py-2 text-sm",onClick:()=>C(h,e,x),children:e},e))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm font-semibold",children:"Personality"}),(0,a.jsx)("div",{className:"mt-2 grid grid-cols-2 gap-2",children:s.OI.map(e=>(0,a.jsx)("button",{type:"button",className:g.includes(e)?"rounded border bg-slate-900 px-3 py-2 text-sm text-white":"rounded border px-3 py-2 text-sm",onClick:()=>C(g,e,f),children:e},e))})]}),(0,a.jsxs)("label",{className:"flex items-center gap-2 text-sm",children:[(0,a.jsx)("input",{type:"checkbox",checked:y,onChange:e=>v(e.target.checked)}),"Online only"]}),(0,a.jsx)("button",{type:"button",className:"w-full rounded bg-slate-900 px-4 py-3 text-white",onClick:S,children:"Search"}),N?(0,a.jsx)("div",{className:"text-sm text-red-600",children:N}):null]}),(0,a.jsx)("div",{className:"space-y-3",children:j.map(e=>(0,a.jsx)(l,{helper:e},e.id))})]})}},8144:function(e,t,n){"use strict";var a;n.d(t,{S:function(){return r}});let i=null!==(a=n(3206).env.NEXT_PUBLIC_API_URL)&&void 0!==a?a:"https://api.sosohelper.com";async function r(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=await fetch("".concat(i).concat(e),{method:null!==(t=n.method)&&void 0!==t?t:"GET",headers:{"content-type":"application/json",...n.token?{authorization:"Bearer ".concat(n.token)}:{}},body:n.body?JSON.stringify(n.body):void 0,cache:"no-store"}),r=await a.json();if(!r.ok)throw Error(r.error.message);return r}},5172:function(e,t,n){"use strict";n.d(t,{qO:function(){return i},FT:function(){return c},BJ:function(){return a},Er:function(){return s},wY:function(){return r},VK:function(){return o},OI:function(){return d},Ql:function(){return l},Gd:function(){return h}});let a=["Philippines","Indonesia","Thailand","Sri Lanka","Nepal","Vietnam","Myanmar","Other"],i=["18-25","26-35","36-45","46-55","56+"],r=["0-1","2-3","4-5","6-8","9+"],s=["Childcare","Elderly care","Cooking","Cleaning","Driving","Gardening"],l=["Hong Kong","Singapore","UAE","Saudi Arabia","Qatar","Malaysia","Taiwan","Other"],o=["Single","Married","Married with children","Single parent"],d=["Friendly","Hardworking","Patient","Honest","Calm","Good with kids","Good with elderly"],c=["Finished Contract","Break Contract"];var u=n(8511);let m=u.Z_().trim().regex(/^\+[1-9]\d{7,14}$/,"WhatsApp must be in international format like +85291234567"),p=u.Z_().trim().url().optional().or(u.i0("")),h=u.Ry({photoUrl:u.Z_().trim().url(),countryOfOrigin:u.Km(a),ageRange:u.Km(i),experienceYears:u.Km(r),experienceDetails:u.IX(u.Km(s)).min(1),workedCountries:u.IX(u.Km(l)).min(1),familySituation:u.Km(o),personalityTraits:u.IX(u.Km(d)).min(1),whatsapp:m,contractEndDate:u.Z_().date(),availableStartDate:u.Z_().date(),previousContractType:u.Km(c),bio:u.Z_().trim().max(800).optional().or(u.i0("")),recommendationLetterUrl:u.Z_().trim().url().optional().or(u.i0("")),facebookProfileLink:p,cookingPhotosLink:p,videosLink:p});u.Ry({countryOfOrigin:u.Km(a).optional(),ageRange:u.Km(i).optional(),experienceYears:u.Km(r).optional(),experienceDetails:u.IX(u.Km(s)).optional(),personalityTraits:u.IX(u.Km(d)).optional(),availableFrom:u.Z_().date().optional(),availableTo:u.Z_().date().optional(),onlineOnly:u.oQ.boolean().optional()}),u.Ry({familyComposition:u.Ry({childrenCount:u.Rx().int().min(0).max(10),childrenAgeRanges:u.IX(u.Km(["0-2","3-5","6-12","13-17"])).optional().default([])}),location:u.Km(["Central","Kowloon","New Territories","Hong Kong Island","Other"]),houseSize:u.Km(["Small","Medium","Large"]),separateRoom:u.O7(),weeklyOffDays:u.IX(u.Km(["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"])).min(1),tasks:u.IX(u.Km(["Housework","Childcare","Elderly care","Driving","Gardening"])).min(1),whatsapp:m,jobDescription:u.Z_().trim().max(1200).optional().or(u.i0(""))}),u.Ry({helperUserId:u.Z_().uuid(),category:u.Km(["Contacted","Under Review","Favorite"])}),u.Ry({text:u.Z_().min(1).max(5e3),target:u.Km(["en","zh"]),source:u.Km(["en","zh"]).optional()})}},function(e){e.O(0,[808,285,749,744],function(){return e(e.s=5647)}),_N_E=e.O()}]);